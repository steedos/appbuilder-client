(this.webpackJsonpappsmith=this.webpackJsonpappsmith||[]).push([[11],{2773:function(e,t,n){"use strict";n.r(t),n.d(t,"RichtextEditorComponent",(function(){return b}));var o=n(18),a=n(5),i=n(0),r=n.n(i),l=n(8),c=n(6),d=n(524);function s(){var e=Object(a.a)(["\n  && {\n    width: 100%;\n    height: 100%;\n    .tox .tox-editor-header {\n      z-index: 0;\n    }\n  }\n  .tox {\n    .tox-tbtn {\n      cursor: pointer;\n      .tox-tbtn__select-label {\n        cursor: inherit;\n      }\n    }\n  }\n"]);return s=function(){return e},e}var u=c.default.div(s());function b(e){var t=Object(d.c)("https://cdnjs.cloudflare.com/ajax/libs/tinymce/5.7.0/tinymce.min.js"),n=Object(i.useState)(!1),a=Object(o.a)(n,2),c=a[0],s=a[1],b=Object(i.useState)(null),m=Object(o.a)(b,2),f=m[0],h=m[1],g=Object(i.useRef)("");return Object(i.useEffect)((()=>{null!==f&&f.mode.set(!0===e.isDisabled?"readonly":"design")}),[e.isDisabled,f,c]),Object(i.useEffect)((()=>{if(null!==f&&(0===g.current.length||g.current!==e.defaultValue)){var t=e.defaultValue;f.setContent(t,{format:"html"})}}),[e.defaultValue,f,c]),Object(i.useEffect)((()=>{if(t===d.b.READY){var n=Object(l.debounce)((t=>{g.current=t,e.onValueChange(t)}),200),o="rte-".concat(e.widgetId),a="textarea#".concat(o),i=window.tinyMCE.get(o);return i&&(i.contentWindow=window,i.remove()),window.tinyMCE.init({forced_root_block:!1,height:"100%",selector:a,menubar:!1,branding:!1,resize:!1,setup:t=>{t.mode.set(!0===e.isDisabled?"readonly":"design");var o=e.defaultValue;t.setContent(o,{format:"html"}),t.on("Change",(()=>{n(t.getContent({format:"html"}))})).on("Undo",(()=>{n(t.getContent({format:"html"}))})).on("Redo",(()=>{n(t.getContent({format:"html"}))})).on("KeyUp",(()=>{n(t.getContent({format:"html"}))})),h(t),t.on("init",(()=>{s(!0)}))},plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help"],toolbar:!e.isToolbarHidden&&"undo redo | formatselect | bold italic backcolor forecolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | table | help",toolbar_mode:"sliding"}),()=>{window.tinyMCE.EditorManager.remove(a),null!==f&&f.remove()}}}),[t,e.isToolbarHidden]),t!==d.b.READY?null:r.a.createElement(u,null,r.a.createElement("textarea",{id:"rte-".concat(e.widgetId)}))}t.default=b}}]);
//# sourceMappingURL=rte.3ff17cd8.chunk.js.map